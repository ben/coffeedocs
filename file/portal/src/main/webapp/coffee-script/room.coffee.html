<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>CoffeeScript API Documentation</title>
  <script src='../../../../../../javascript/application.js'></script>
  <script src='../../../../../../javascript/search.js'></script>
  <link rel='stylesheet' href='../../../../../../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../../../../../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../../../../../extra/README.md.html' title='Mercury'>
      Mercury
    </a>
    &raquo;
    <a href='../../../../../../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>portal</span>
    &raquo;
    <span class='title'>src</span>
    &raquo;
    <span class='title'>main</span>
    &raquo;
    <span class='title'>webapp</span>
    &raquo;
    <span class='title'>coffee-script</span>
    &raquo;
    <span class='title'>room.coffee</span>
  </div>
</div>
    <div id='content'>
      <h1>
        File:
        room.coffee
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>portal&#47;src&#47;main&#47;webapp&#47;coffee-script</td>
        </tr>
      </table>
      <h2>Variables Summary</h2>
      <dl class='constants'>
  <dt id='pinnedToBottom-variable'>
    pinnedToBottom
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>true</code></pre>
    
  </dd>
  <dt id='ScrollAdjustment-variable'>
    ScrollAdjustment
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>{
  scrollAdjusting: false,
  monitoringTop: false,
  previousScrollHeight: void 0,
  init: function() {
    this.$roomWall = $(&#39;ul.wall&#39;);
    $(document).on(&#39;wall-load-more&#39;, (function(_this) {
      return function() {
        return _this.monitoringTop = true;
      };
    })(this)).on(&#39;wall-load-more-completed&#39;, (function(_this) {
      return function() {
        _this.scrollAdjusting = false;
        return _this.monitoringTop = false;
      };
    })(this));
    return this.$roomWall.on(&#39;scroll&#39;, (function(_this) {
      return function() {
        return _this.previousScrollHeight = _this.$roomWall[0].scrollHeight;
      };
    })(this));
  },
  adjustScroll: function() {
    var self;
    if (this.scrollAdjusting) {
      return;
    }
    self = this;
    this.scrollAdjusting = true;
    if (isPinnedToBottom(this.$roomWall)) {
      return $(document).one(&#39;wall-contents-changed&#39;, function() {
        return elemica.nextTick(function() {
          scrollToBottom(self.$roomWall);
          return self.scrollAdjusting = false;
        });
      });
    } else if (this.monitoringTop &amp;&amp; (this.previousScrollHeight != null)) {
      return $(document).on(&#39;wall-contents-changed.scroll-adjustment&#39;, function() {
        return elemica.nextTick(function() {
          self.$roomWall.scrollTop(self.$roomWall[0].scrollHeight - self.previousScrollHeight);
          self.previousScrollHeight = self.$roomWall[0].scrollHeight;
          if (!self.monitoringTop) {
            return $(document).off(&#39;wall-contents-changed.scroll-adjustment&#39;);
          }
        });
      });
    } else {
      return this.scrollAdjusting = false;
    }
  }
}</code></pre>
    <div class='docstring'>
  <p>Scroll adjusting can happen in one of two ways:</p><ul>
<li>If the user is scrolled to the bottom, we keep them stuck there as new
content comes in.</li>
<li>If the user is scrolled to the top for load more, we maintain the same
viewport visible even as new items come into the top (if we let the browser
do its thing, the scrollTop would remain unchanged, leading the content
we&#39;re currently looking at to be pushed down out of view).</li>
</ul>

</div>
<div class='tags'>
</div>
  </dd>
</dl>
      <h2>Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#elemica.afterSidebarDocumentsRender-'>
        ~
(void)
<b>elemica.afterSidebarDocumentsRender</b><span>(sidebar)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#elemica.afterWallDocumentsRender-'>
        ~
(void)
<b>elemica.afterWallDocumentsRender</b><span>(wall)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#applySelect2-'>
        ~
(void)
<b>applySelect2</b><span>($input)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#applyDocumentMenu-'>
        ~
(void)
<b>applyDocumentMenu</b><span>(elements)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#scrollToBottom-'>
        ~
(void)
<b>scrollToBottom</b><span>($element)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#isPinnedToBottom-'>
        ~
(void)
<b>isPinnedToBottom</b><span>($element)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
</ul>
      <h2>Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='elemica.afterSidebarDocumentsRender-'>
      ~
(void)
<b>elemica.afterSidebarDocumentsRender</b><span>(sidebar)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='elemica.afterWallDocumentsRender-'>
      ~
(void)
<b>elemica.afterWallDocumentsRender</b><span>(wall)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='applySelect2-'>
      ~
(void)
<b>applySelect2</b><span>($input)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='applyDocumentMenu-'>
      ~
(void)
<b>applyDocumentMenu</b><span>(elements)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='scrollToBottom-'>
      ~
(void)
<b>scrollToBottom</b><span>($element)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='isPinnedToBottom-'>
      ~
(void)
<b>isPinnedToBottom</b><span>($element)</span>
      <br>
    </p>
    
  </div>
</div>
    </div>
    <div id='footer'>
  May 11, 14 07:22:22 by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.0.8
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>